{
  "info": {
    "name": "AWAD Email API",
    "description": "API collection for AWAD Email backend with OTP verification and password management.\n\n**IMPORTANT - Cookie Authentication:**\n- Refresh tokens are now stored in HttpOnly cookies (not in response body)\n- Postman automatically handles cookies when 'Cookies' are enabled\n- Make sure to enable 'Send cookies' in Postman settings\n- The refresh token cookie is automatically sent with requests to /api/auth/* endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "3.0.0"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "mailboxId",
      "value": "",
      "type": "string"
    },
    {
      "key": "emailId",
      "value": "",
      "type": "string"
    },
    {
      "key": "otpCode",
      "value": "",
      "type": "string"
    },
    {
      "key": "testEmail",
      "value": "test@example.com",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/health",
          "host": ["{{baseUrl}}"],
          "path": ["api", "health"]
        }
      }
    },
    {
      "name": "Auth",
      "item": [
        {
          "name": "Sign Up",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"{{testEmail}}\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/signup",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "signup"]
            },
            "description": "Sign up with email and password. User will receive OTP via email for verification. Account is disabled until email is verified."
          }
        },
        {
          "name": "Verify Email",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data) {",
                  "        pm.collectionVariables.set('accessToken', jsonData.data.accessToken);",
                  "        // Note: refreshToken is now set as HttpOnly cookie automatically",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{testEmail}}\",\n  \"code\": \"{{otpCode}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/verify-email",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "verify-email"]
            },
            "description": "Verify email with OTP code received via email. After verification, user receives access token in response body and refresh token as HttpOnly cookie (automatically handled by Postman)."
          }
        },
        {
          "name": "Resend Verification OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{testEmail}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/resend-verification-otp",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "resend-verification-otp"]
            },
            "description": "Resend verification OTP if the previous one expired or was not received."
          }
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('accessToken', jsonData.data.accessToken);",
                  "    // Note: refreshToken is now set as HttpOnly cookie automatically",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{testEmail}}\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "login"]
            },
            "description": "Login with email and password. Returns access token in response body. Refresh token is set as HttpOnly cookie (automatically handled by Postman). Note: Account must be verified first."
          }
        },
        {
          "name": "Google Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('accessToken', jsonData.data.accessToken);",
                  "    // Note: refreshToken is now set as HttpOnly cookie automatically",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"code\": \"GOOGLE_AUTHORIZATION_CODE_HERE\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/google",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "google"]
            },
            "description": "Login with Google OAuth. Returns access token in response body. Refresh token is set as HttpOnly cookie. User is automatically verified. If user exists with same email, Google account is linked."
          }
        },
        {
          "name": "Forgot Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{testEmail}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/forgot-password",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "forgot-password"]
            },
            "description": "Request password reset. User will receive OTP via email."
          }
        },
        {
          "name": "Reset Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{testEmail}}\",\n  \"code\": \"{{otpCode}}\",\n  \"newPassword\": \"newPassword123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/reset-password",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "reset-password"]
            },
            "description": "Reset password with OTP code. All refresh tokens are revoked after password reset."
          }
        },
        {
          "name": "Send Change Password OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/send-change-password-otp",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "send-change-password-otp"]
            },
            "description": "Request OTP for password change. Requires authentication. User will receive OTP via email."
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"password123\",\n  \"newPassword\": \"newPassword123\",\n  \"code\": \"{{otpCode}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/change-password",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "change-password"]
            },
            "description": "Change password with OTP verification. Requires authentication. All refresh tokens are revoked after password change."
          }
        },
        {
          "name": "Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('accessToken', jsonData.data.accessToken);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/auth/refresh",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "refresh"]
            },
            "description": "Refresh access token using the HttpOnly cookie. No request body needed - the refresh token is automatically sent via cookie by Postman. Returns new access token."
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "logout"]
            },
            "description": "Logout and invalidate the refresh token. The refresh token is read from the HttpOnly cookie (sent automatically). Clears the cookie on success."
          }
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/auth/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "me"]
            }
          }
        },
        {
          "name": "Introspect Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"{{accessToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/introspect",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "introspect"]
            }
          }
        }
      ]
    },
    {
      "name": "Mailboxes",
      "item": [
        {
          "name": "Get All Mailboxes",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.length > 0) {",
                  "        pm.collectionVariables.set('mailboxId', jsonData.data[0].id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/mailboxes",
              "host": ["{{baseUrl}}"],
              "path": ["api", "mailboxes"]
            }
          }
        },
        {
          "name": "Get Mailbox by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/mailboxes/{{mailboxId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "mailboxes", "{{mailboxId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Emails",
      "item": [
        {
          "name": "Get Emails in Mailbox",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData.data && jsonData.data.content && jsonData.data.content.length > 0) {",
                  "        pm.collectionVariables.set('emailId', jsonData.data.content[0].id);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/mailboxes/{{mailboxId}}/emails?page=0&size=20",
              "host": ["{{baseUrl}}"],
              "path": ["api", "mailboxes", "{{mailboxId}}", "emails"],
              "query": [
                {
                  "key": "page",
                  "value": "0",
                  "description": "Page number (0-indexed)"
                },
                {
                  "key": "size",
                  "value": "20",
                  "description": "Number of emails per page"
                }
              ]
            },
            "description": "Get paginated list of emails in a specific mailbox. Fetches from Gmail API if connected, otherwise returns mock data."
          }
        },
        {
          "name": "Get Email Detail",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/emails/{{emailId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "emails", "{{emailId}}"]
            },
            "description": "Get detailed information about a specific email. Fetches from Gmail API if connected."
          }
        },
        {
          "name": "Send Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"to\": [\"recipient@example.com\"],\n  \"cc\": [],\n  \"bcc\": [],\n  \"subject\": \"Test Email\",\n  \"body\": \"<p>This is a test email sent via Gmail API.</p>\",\n  \"attachmentIds\": []\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/emails/send",
              "host": ["{{baseUrl}}"],
              "path": ["api", "emails", "send"]
            },
            "description": "Send a new email via Gmail API. Requires Gmail to be connected."
          }
        },
        {
          "name": "Reply to Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"body\": \"<p>Thank you for your email. This is my reply.</p>\",\n  \"replyAll\": false,\n  \"attachmentIds\": []\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/emails/{{emailId}}/reply",
              "host": ["{{baseUrl}}"],
              "path": ["api", "emails", "{{emailId}}", "reply"]
            },
            "description": "Reply to an email via Gmail API. Set replyAll to true to reply to all recipients."
          }
        },
        {
          "name": "Modify Email (Bulk Actions)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"emailIds\": [\"{{emailId}}\"],\n  \"action\": \"read\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/emails/{{emailId}}/modify",
              "host": ["{{baseUrl}}"],
              "path": ["api", "emails", "{{emailId}}", "modify"]
            },
            "description": "Modify email with bulk actions. Actions: read, unread, star, unstar, delete, archive"
          }
        },
        {
          "name": "Bulk Email Actions",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"emailIds\": [\"{{emailId}}\"],\n  \"action\": \"read\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/emails/actions",
              "host": ["{{baseUrl}}"],
              "path": ["api", "emails", "actions"]
            },
            "description": "Perform bulk actions on multiple emails. Actions: read, unread, star, unstar, delete, archive"
          }
        },
        {
          "name": "Mark as Read",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/emails/{{emailId}}/read",
              "host": ["{{baseUrl}}"],
              "path": ["api", "emails", "{{emailId}}", "read"]
            },
            "description": "Mark a single email as read"
          }
        },
        {
          "name": "Mark as Unread",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/emails/{{emailId}}/unread",
              "host": ["{{baseUrl}}"],
              "path": ["api", "emails", "{{emailId}}", "unread"]
            },
            "description": "Mark a single email as unread"
          }
        },
        {
          "name": "Toggle Star",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/emails/{{emailId}}/star?starred=true",
              "host": ["{{baseUrl}}"],
              "path": ["api", "emails", "{{emailId}}", "star"],
              "query": [
                {
                  "key": "starred",
                  "value": "true",
                  "description": "true to star, false to unstar"
                }
              ]
            },
            "description": "Star or unstar a single email"
          }
        },
        {
          "name": "Delete Email",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/emails/{{emailId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "emails", "{{emailId}}"]
            },
            "description": "Delete a single email (moves to trash in Gmail)"
          }
        }
      ]
    },
    {
      "name": "Attachments",
      "item": [
        {
          "name": "Download Attachment",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/attachments/{{emailId}}/ATTACHMENT_ID?filename=document.pdf",
              "host": ["{{baseUrl}}"],
              "path": ["api", "attachments", "{{emailId}}", "ATTACHMENT_ID"],
              "query": [
                {
                  "key": "filename",
                  "value": "document.pdf",
                  "description": "Optional filename for the downloaded attachment"
                }
              ]
            },
            "description": "Download an email attachment. Replace ATTACHMENT_ID with the actual attachment ID from the email."
          }
        }
      ]
    },
    {
      "name": "Kanban Board",
      "item": [
        {
          "name": "Get Full Board",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/kanban/board",
              "host": ["{{baseUrl}}"],
              "path": ["api", "kanban", "board"]
            },
            "description": "Get the full Kanban board with all columns and their emails. Initializes default columns (Inbox, To Do, In Progress, Done, Snoozed) if not exists."
          }
        },
        {
          "name": "Get Columns",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/kanban/columns",
              "host": ["{{baseUrl}}"],
              "path": ["api", "kanban", "columns"]
            },
            "description": "Get all Kanban columns for the user."
          }
        },
        {
          "name": "Create Column",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Review\",\n  \"color\": \"#9C27B0\",\n  \"order\": 5\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/kanban/columns",
              "host": ["{{baseUrl}}"],
              "path": ["api", "kanban", "columns"]
            },
            "description": "Create a new custom Kanban column."
          }
        },
        {
          "name": "Update Column",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Name\",\n  \"color\": \"#FF5722\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/kanban/columns/COLUMN_ID",
              "host": ["{{baseUrl}}"],
              "path": ["api", "kanban", "columns", "COLUMN_ID"]
            },
            "description": "Update a Kanban column. Replace COLUMN_ID with actual column ID."
          }
        },
        {
          "name": "Delete Column",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/kanban/columns/COLUMN_ID",
              "host": ["{{baseUrl}}"],
              "path": ["api", "kanban", "columns", "COLUMN_ID"]
            },
            "description": "Delete a custom Kanban column. Default columns cannot be deleted. Emails in deleted column are moved to Inbox."
          }
        },
        {
          "name": "Get Emails in Column",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/kanban/columns/COLUMN_ID/emails",
              "host": ["{{baseUrl}}"],
              "path": ["api", "kanban", "columns", "COLUMN_ID", "emails"]
            },
            "description": "Get all emails in a specific Kanban column."
          }
        },
        {
          "name": "Add Email to Kanban",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"emailId\": \"{{emailId}}\",\n  \"columnId\": null,\n  \"generateSummary\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/kanban/emails",
              "host": ["{{baseUrl}}"],
              "path": ["api", "kanban", "emails"]
            },
            "description": "Add an email to the Kanban board. If columnId is null, email is added to Inbox. Set generateSummary to true to generate AI summary."
          }
        },
        {
          "name": "Get Email Kanban Status",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/kanban/emails/{{emailId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "kanban", "emails", "{{emailId}}"]
            },
            "description": "Get the Kanban status of a specific email including column, summary, and snooze info."
          }
        },
        {
          "name": "Move Email (Drag & Drop)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"emailId\": \"{{emailId}}\",\n  \"targetColumnId\": \"TARGET_COLUMN_ID\",\n  \"newOrder\": 0\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/kanban/emails/move",
              "host": ["{{baseUrl}}"],
              "path": ["api", "kanban", "emails", "move"]
            },
            "description": "Move an email to a different column (drag-and-drop). Updates the email's status in the backend."
          }
        },
        {
          "name": "Remove Email from Kanban",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/kanban/emails/{{emailId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "kanban", "emails", "{{emailId}}"]
            },
            "description": "Remove an email from the Kanban board."
          }
        },
        {
          "name": "Snooze Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"emailId\": \"{{emailId}}\",\n  \"snoozeUntil\": \"2024-12-10T09:00:00\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/kanban/emails/snooze",
              "host": ["{{baseUrl}}"],
              "path": ["api", "kanban", "emails", "snooze"]
            },
            "description": "Snooze an email until a specific time. Email is moved to Snoozed column and automatically restored when snooze expires."
          }
        },
        {
          "name": "Unsnooze Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/kanban/emails/{{emailId}}/unsnooze",
              "host": ["{{baseUrl}}"],
              "path": ["api", "kanban", "emails", "{{emailId}}", "unsnooze"]
            },
            "description": "Manually unsnooze an email before the snooze time expires. Email is restored to its previous column."
          }
        },
        {
          "name": "Generate AI Summary",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/kanban/emails/{{emailId}}/summarize",
              "host": ["{{baseUrl}}"],
              "path": ["api", "kanban", "emails", "{{emailId}}", "summarize"]
            },
            "description": "Generate or regenerate AI summary for an email using Gemini API. Requires GEMINI_API_KEY to be configured."
          }
        }
      ]
    }
  ]
}

